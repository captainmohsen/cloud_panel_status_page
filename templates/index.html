<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta http-equiv="refresh" content="60">
  <title>ocloud</title>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
  <link href="/static/css/bootstrap.min.css" rel="stylesheet">
  <link href="/static/css/style.css" rel="stylesheet">

</head>
<body>
  <div class="navbar navbar-default navbar-static-top" role="navigation">
    <div class="container">
      <div class="row">
        <div class="col-lg-10 col-lg-offset-1">
          <div class="navbar-header">

            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
              <span class="sr-only">KHALLAGH CLOUD STATUS</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>

            </button>
            <img src="/static/images/logo.png"  ALT="khallagh logo"  class="nav navbar-nav navbar-right" height="70" style="margin-left: 750px"  >
<!--            <a class="navbar-brand"  href="https://khallagh.com">STATUS</a>-->

            <h2 class="navbar-brand" ><b>Staus Page</b></h2>
<!--            <a href="/loginpage"  style="margin: 30px" class="btn btn-info navbar-btn login-btn " role="button" >LOGIN</a>-->



          </div>
          <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">

<!--              <li><a href="https://khallagh.com">OUR SITE</a></li>-->
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container">

    <div class="row">
      <div class="col-lg-10 col-lg-offset-1">




<!--        <div id="stattip-err" class="alert alert-warning hide" role="alert">-->
<!--          <b>STATUS：</b>Khallagh Borhan Ocloud Services-->
<!--        </div>-->
        <div>
          <table class="severity-bar" >
            <tbody>
            <tr>
              <td style="margin: 10px; padding: 5px;"><span class="glyphicon  glyphicon-ok-sign status-success"></span><span>&nbsp;</span><span>Available</span></td>
              <td style="margin: 10px; padding: 5px;" ><span class="glyphicon glyphicon-exclamation-sign status-warning "></span><span>&nbsp;</span><span>Service Disruption</span></td>
              <td style="margin: 10px; padding: 5px;"><span class="glyphicon glyphicon-remove-sign status-danger"></span><span>&nbsp;</span><span>Service Outage</span></td>
            </tr>
            </tbody>
          </table><br/>
        </div>
        <div id="stattip-ok" class="alert alert-success hide" role="alert">
          <b>STATUS：</b>Khallagh Borhan Cloud Services
        </div>
        <div id="stattip-load" class="alert alert-info" role="alert">
          <b>STATUS：</b>Khallagh Borhan Cloud Services
        </div>
        <div class="table-responsive">
          <table class="table table-hover check">
            <thead>
              <tr id="server-title">
              </tr>
            </thead>
<!--            <tbody id="server-container"></tbody>-->
            <tbody>
            <tr>
            <td>Compute Service</td>
            {% if result['ComputeService']['status'] %}

              <td align="center"  ><span class="{{result['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day1']['ComputeService']['up_time']}}%" ><span class="{{final_res['day1']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day2']['ComputeService']['up_time']}}%" ><span class="{{final_res['day2']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day3']['ComputeService']['up_time']}}%" ><span class="{{final_res['day3']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day4']['ComputeService']['up_time']}}%" ><span class="{{final_res['day4']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day5']['ComputeService']['up_time']}}%" ><span class="{{final_res['day5']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day6']['ComputeService']['up_time']}}%" ><span class="{{final_res['day5']['ComputeService']['flag']}}"></span><span >&nbsp;</span><span></span></td>
            {% else %}

              <td align="center" ><span class="glyphicon glyphicon-exclamation-sign status-warning "></span><span>&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day1']['ComputeService']['up_time']}}%" ><span class="{{final_res['day1']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day2']['ComputeService']['up_time']}}%" ><span class="{{final_res['day2']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day3']['ComputeService']['up_time']}}%" ><span class="{{final_res['day3']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day4']['ComputeService']['up_time']}}%" ><span class="{{final_res['day4']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day5']['ComputeService']['up_time']}}%" ><span class="{{final_res['day5']['ComputeService']['flag']}}"  ></span><span >&nbsp;</span><span></span></td>
              <td align="center"  title= "available {{final_res['day6']['ComputeService']['up_time']}}%" ><span class="{{final_res['day5']['ComputeService']['flag']}}"></span><span >&nbsp;</span><span></span></td>

            {% endif %}
<!--              <td><span class="glyphicon  glyphicon-ok-sign status-success"></span><span>&nbsp;</span><span></span></td>-->
            </tr>
            <tr>
              <td>Network Service</td>
              {% if result['NetworkService']['status'] %}

              <td align="center" ><span class="{{result['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day1']['NetworkService']['up_time']}}%"><span class="{{final_res['day1']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day2']['NetworkService']['up_time']}}%"><span class="{{final_res['day2']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day3']['NetworkService']['up_time']}}%"><span class="{{final_res['day3']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day4']['NetworkService']['up_time']}}%"><span class="{{final_res['day4']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day5']['NetworkService']['up_time']}}%"><span class="{{final_res['day5']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day6']['NetworkService']['up_time']}}%"><span class="{{final_res['day6']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span> </td>
              {% else %}

              <td align="center"  ><span class="glyphicon glyphicon-exclamation-sign status-warning"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day1']['NetworkService']['up_time']}}%"><span class="{{final_res['day1']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day2']['NetworkService']['up_time']}}%"><span class="{{final_res['day2']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day3']['NetworkService']['up_time']}}%"><span class="{{final_res['day3']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day4']['NetworkService']['up_time']}}%"><span class="{{final_res['day4']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day5']['NetworkService']['up_time']}}%"><span class="{{final_res['day5']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day6']['NetworkService']['up_time']}}%"><span class="{{final_res['day6']['NetworkService']['flag']}}"></span><span>&nbsp;</span><span></span> </td>

              {% endif %}

            </tr>
            <tr>
              <td>Storage Service</td>
              {% if result['StorageService']['status'] %}

              <td align="center" ><span class="{{result['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day1']['StorageService']['up_time']}}%"><span class="{{final_res['day1']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day2']['StorageService']['up_time']}}%"><span class="{{final_res['day2']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day3']['StorageService']['up_time']}}%"><span class="{{final_res['day3']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day4']['StorageService']['up_time']}}%"><span class="{{final_res['day4']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day5']['StorageService']['up_time']}}%"><span class="{{final_res['day5']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day6']['StorageService']['up_time']}}%"><span class="{{final_res['day6']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              {% else %}

              <td align="center"><span class="glyphicon glyphicon-exclamation-sign status-warning"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day1']['StorageService']['up_time']}}%"><span class="{{final_res['day1']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day2']['StorageService']['up_time']}}%"><span class="{{final_res['day2']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day3']['StorageService']['up_time']}}%"><span class="{{final_res['day3']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day4']['StorageService']['up_time']}}%"><span class="{{final_res['day4']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day5']['StorageService']['up_time']}}%"><span class="{{final_res['day5']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day6']['StorageService']['up_time']}}%"><span class="{{final_res['day6']['StorageService']['flag']}}"></span><span>&nbsp;</span><span></span></td>

              {% endif %}
            </tr>
            <tr>
              <td>Ceph Service</td>
              {% if result['CephService']['status'] %}

              <td align="center" ><span class="{{result['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day1']['CephService']['up_time']}}%"><span class="{{final_res['day1']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day2']['CephService']['up_time']}}%"><span class="{{final_res['day2']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day3']['CephService']['up_time']}}%"><span class="{{final_res['day3']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day4']['CephService']['up_time']}}%"><span class="{{final_res['day4']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day5']['CephService']['up_time']}}%"><span class="{{final_res['day5']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day6']['CephService']['up_time']}}%"><span class="{{final_res['day6']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              {% else %}

              <td align="center"><span class="glyphicon glyphicon-exclamation-sign status-warning"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day1']['CephService']['up_time']}}%"><span class="{{final_res['day1']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day2']['CephService']['up_time']}}%"><span class="{{final_res['day2']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day3']['CephService']['up_time']}}%"><span class="{{final_res['day3']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day4']['CephService']['up_time']}}%"><span class="{{final_res['day4']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day5']['CephService']['up_time']}}%"><span class="{{final_res['day5']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>
              <td align="center" title="available {{final_res['day6']['CephService']['up_time']}}%"><span class="{{final_res['day6']['CephService']['flag']}}"></span><span>&nbsp;</span><span></span></td>

              {% endif %}

            </tr>
            </tbody>



          </table>

        </div>

      </div>
    </div>
<!--    <div id="incident"></div>-->
    {% if incident %}
    <h1 class="app-title"><strong>latest Incidents<br> and CR </strong></h1>

    {% for inc in incident %}
    <div class="incident">

      <h2 class="incident-name">{{ inc['fields']['summary'] }} <span class="species"> </span></h2><br/>
      <span class ="species">{{ inc['fields']['status']['description'] }}</span>
      <span  style="float:right ;font-size: 1.5rem"  class="label label-info">INCIDENT</span>
      <br/><br/>
      <span  style="float:right ;font-size: 1.5rem"  class="label label-warning">Unresolved</span>
      <br/><br/>

<!--      <p style="color: brown"><strong>Type:</strong> "Partial_Outage"</p>-->
<!--      <p style="color: brown"><strong>End_Time:</strong> </p>-->
      <p align="right"><strong>{{ inc['fields']['created'].replace('.000+0330','').split("T")[0] }}</strong></p>
      <p align="right"><strong>{{ inc['fields']['created'].replace('.000+0330','').split("T")[1] }}</strong></p>

    </div>
    {% endfor %}
    {% for inc in resolved %}
    <div class="incident">

      <h2 class="incident-name">{{ inc['fields']['summary'] }} <span class="species"></span></h2><br/>
      <span class ="species">{{ inc['fields']['status']['description'] }}</span>
      <span  style="float:right ;font-size: 1.5rem"  class="label label-info">Incident</span>
      <br/> <br/>
      <span  style="float:right ;font-size: 1.5rem"  class="label label-success">Resolved</span>
      <br/><br/>



<!--      <p style="color: brown"><strong>Type:</strong> "Partial_Outage"</p>-->
      <p align="right"><strong>{{ inc['fields']['created'].replace('.000+0330','').split("T")[0] }}</strong></p>
      <p align="right"><strong>{{ inc['fields']['created'].replace('.000+0330','').split("T")[1] }}</strong></p>


    </div>
    {% endfor %}
    {% endif %}
    {% for cr in cr_res %}
    <div class="incident">

      <h2 class="incident-name">{{ cr['fields']['summary'] }} <span class="species"> </span></h2>
      <span  style="float:right ;font-size: 1.5rem"  class="label label-info">CR</span>
      <p style="color: brown"><strong>Type:</strong> "Partial_Outage"</p>
      <p style="color: brown"><strong>End_Time:</strong> </p>
      <p align="right"><strong>{{ cr['fields']['created'].replace('.000+0330','').split("T")[0] }}</strong></p>
      <p align="right"><strong>{{ cr['fields']['created'].replace('.000+0330','').split("T")[0] }}</strong></p>
      <p align="left"><strong>{{ cr['fields']['customfield_10207'].replace('.000+0330','').split("T")[0] }}</strong></p>
      <p align="left"><strong>{{ cr['fields']['customfield_10207'].replace('.000+0330','').split("T")[0] }}</strong></p>
    </div>
    {% endfor %}

    <script type="text/javascript" src="/static/js/new_main.js"></script>
  </div>








{% raw %}
  <div class="footer">
    <div class="container">
      <div><a class="btn-group-sm" href="/history"><span><strong>Incident history</strong></span></a></div>

<!--      <p><span class="glyphicon glyphicon-refresh"></span> <span id="last-update"></span></p>-->
      <p class="credit">Powered by <a href="https://khallagh.com" target="_blank">Khallagh Borhan</a></p>
    </div>
  </div>
  <script type="template/mustache" id="server-template">
    <tr class="{{alert}}">
      <td rowspan="2" class="sertitle">
        <span class="label label-status label-{{label}}"><span class="glyphicon glyphicon-{{statusicon}}"></span> {{statustext}}</span>
        <span class="wname">{{friendly_name}}</span>
      </td>
      {{#charts}}
      <td class="center">
      <span class="status-{{uptype}} set-tooltip" data-toggle="tooltip" data-placement="top" title="{{uptimetext}}"><span class="glyphicon glyphicon-{{upsign}}"></span></span>
      </td>
      {{/charts}}
    </tr>
    <tr class="{{alert}} barl">
      <td colspan="8" class="barls">
        <div class="progress">
        {{#progress}}
          <div class="progress-bar progress-bar-{{types}} set-tooltip" style="width: {{len}}%" data-toggle="tooltip" data-placement="top" title="{{stattip}}"></div>
        {{/progress}}
       </div>
      </td>
    </tr>
  </script>
  {% endraw %}
  <script src="/static/js/jquery-1.12.4.min.js" type="text/javascript"></script>
  <script src="/static/js/bootstrap.min.js" type="text/javascript"></script>
  <script src="/static/js/mustache.min.js" type="text/javascript"></script>
  <script src="/static/js/config.js" type="text/javascript"></script>
  <script src="/static/js/cup.js" type="text/javascript"></script>
  <script type="text/javascript">
    jQuery(document).ready(myApp.dashboard.init);
  </script>

</body>
</html>
